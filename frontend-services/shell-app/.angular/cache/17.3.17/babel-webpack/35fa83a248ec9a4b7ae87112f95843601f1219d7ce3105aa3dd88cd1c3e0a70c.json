{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/coupon.service\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = a0 => ({\n  \"expired\": a0\n});\nconst _c1 = (a0, a1) => ({\n  \"bg-success\": a0,\n  \"bg-danger\": a1\n});\nfunction CouponsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"span\", 6);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CouponsComponent_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"div\", 11)(3, \"div\", 12)(4, \"div\")(5, \"h5\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 14);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"span\", 15);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 16)(12, \"div\", 17);\n    i0.ɵɵelement(13, \"input\", 18);\n    i0.ɵɵelementStart(14, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function CouponsComponent_div_4_div_1_Template_button_click_14_listener() {\n      const coupon_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.copyCouponCode(coupon_r2.code));\n    });\n    i0.ɵɵelement(15, \"i\", 20);\n    i0.ɵɵtext(16, \" Copy \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 21)(18, \"div\", 22)(19, \"span\");\n    i0.ɵɵtext(20, \"Min Order:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"strong\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 22)(24, \"span\");\n    i0.ɵɵtext(25, \"Discount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"strong\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 22)(29, \"span\");\n    i0.ɵɵtext(30, \"Uses Left:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"strong\");\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 23)(34, \"span\");\n    i0.ɵɵtext(35, \"Expires:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"strong\");\n    i0.ɵɵtext(37);\n    i0.ɵɵpipe(38, \"date\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const coupon_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(14, _c0, ctx_r2.isExpired(coupon_r2.validUntil)));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", coupon_r2.discountValue, \"% OFF\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"On orders above \\u20B9\", coupon_r2.minOrderAmount || 0, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(16, _c1, !ctx_r2.isExpired(coupon_r2.validUntil), ctx_r2.isExpired(coupon_r2.validUntil)));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.isExpired(coupon_r2.validUntil) ? \"Expired\" : \"Active\", \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", coupon_r2.code);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"\\u20B9\", coupon_r2.minOrderAmount, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", coupon_r2.discountValue, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", (coupon_r2.usageLimit || 0) - (coupon_r2.usedCount || 0), \"/\", coupon_r2.usageLimit || 0, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(38, 11, coupon_r2.validUntil, \"MMM dd, yyyy\"));\n  }\n}\nfunction CouponsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, CouponsComponent_div_4_div_1_Template, 39, 19, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.coupons);\n  }\n}\nfunction CouponsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"i\", 24);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3, \"No coupons available\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 25);\n    i0.ɵɵtext(5, \"Check back later for exciting offers!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let CouponsComponent = /*#__PURE__*/(() => {\n  class CouponsComponent {\n    constructor(couponService) {\n      this.couponService = couponService;\n      this.coupons = [];\n      this.loading = true;\n    }\n    ngOnInit() {\n      this.loadCoupons();\n    }\n    loadCoupons() {\n      this.couponService.getAllCoupons().subscribe({\n        next: response => {\n          this.coupons = response;\n          this.loading = false;\n        },\n        error: error => {\n          console.error('Error loading coupons:', error);\n          this.loading = false;\n        }\n      });\n    }\n    copyCouponCode(code) {\n      navigator.clipboard.writeText(code);\n      alert('Coupon code copied: ' + code);\n    }\n    isExpired(expiryDate) {\n      return new Date(expiryDate) < new Date();\n    }\n    static {\n      this.ɵfac = function CouponsComponent_Factory(t) {\n        return new (t || CouponsComponent)(i0.ɵɵdirectiveInject(i1.CouponService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: CouponsComponent,\n        selectors: [[\"app-coupons\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 6,\n        vars: 3,\n        consts: [[1, \"container\", \"my-4\"], [1, \"mb-4\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"text-center\", \"py-5\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"], [1, \"row\"], [\"class\", \"col-md-6 mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-6\", \"mb-3\"], [1, \"card\", \"coupon-card\", 3, \"ngClass\"], [1, \"card-body\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-start\", \"mb-3\"], [1, \"card-title\", \"mb-1\"], [1, \"card-text\", \"text-muted\", \"small\"], [1, \"badge\", 3, \"ngClass\"], [1, \"coupon-code-section\", \"mb-3\"], [1, \"input-group\"], [\"type\", \"text\", \"readonly\", \"\", 1, \"form-control\", \"coupon-code\", 3, \"value\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [1, \"bi\", \"bi-clipboard\"], [1, \"coupon-details\", \"small\", \"text-muted\"], [1, \"d-flex\", \"justify-content-between\", \"mb-2\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"bi\", \"bi-ticket\", \"fa-4x\", \"text-muted\", \"mb-3\"], [1, \"text-muted\"]],\n        template: function CouponsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n            i0.ɵɵtext(2, \"Available Coupons\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, CouponsComponent_div_3_Template, 4, 0, \"div\", 2)(4, CouponsComponent_div_4_Template, 2, 1, \"div\", 3)(5, CouponsComponent_div_5_Template, 6, 0, \"div\", 2);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.coupons.length > 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.coupons.length === 0);\n          }\n        },\n        dependencies: [CommonModule, i2.NgClass, i2.NgForOf, i2.NgIf, i2.DatePipe],\n        styles: [\".coupon-card[_ngcontent-%COMP%]{border:2px solid #e0e0e0;transition:all .3s ease;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.coupon-card[_ngcontent-%COMP%]:hover:not(.expired){border-color:#28a745;box-shadow:0 8px 16px #28a74526;transform:translateY(-2px)}.coupon-card.expired[_ngcontent-%COMP%]{opacity:.6;background:linear-gradient(135deg,#f5f5f5,#e0e0e0)}.coupon-code-section[_ngcontent-%COMP%]   .coupon-code[_ngcontent-%COMP%]{font-weight:600;letter-spacing:1px;font-size:1.1rem}.coupon-details[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1);padding-top:1rem}\"]\n      });\n    }\n  }\n  return CouponsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}