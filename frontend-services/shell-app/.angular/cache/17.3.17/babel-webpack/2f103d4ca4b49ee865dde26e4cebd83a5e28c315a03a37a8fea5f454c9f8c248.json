{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/cart.service\";\nimport * as i3 from \"../../services/product.service\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = (a0, a1) => ({\n  \"btn-success\": a0,\n  \"btn-outline-secondary\": a1\n});\nfunction ProductDetailComponent_div_0_div_55_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_div_55_button_4_Template_button_click_0_listener() {\n      const size_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r3.selectedSize = size_r3);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const size_r3 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c0, ctx_r3.selectedSize === size_r3, ctx_r3.selectedSize !== size_r3));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", size_r3, \" \");\n  }\n}\nfunction ProductDetailComponent_div_0_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"label\", 23);\n    i0.ɵɵtext(2, \"Size:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 33);\n    i0.ɵɵtemplate(4, ProductDetailComponent_div_0_div_55_button_4_Template, 2, 5, \"button\", 34);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.availableSizes);\n  }\n}\nfunction ProductDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"nav\", 2)(2, \"ol\", 3)(3, \"li\", 4)(4, \"a\", 5);\n    i0.ɵɵtext(5, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"li\", 4)(7, \"a\", 6);\n    i0.ɵɵtext(8, \"Products\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"li\", 7);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 8)(12, \"div\", 9)(13, \"div\", 10);\n    i0.ɵɵelement(14, \"img\", 11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 9)(16, \"div\", 12)(17, \"h1\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\", 13);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 14)(23, \"h3\", 15);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementStart(25, \"small\", 16);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 17)(28, \"h5\");\n    i0.ɵɵtext(29, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\", 18);\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\", 17)(33, \"h5\");\n    i0.ɵɵtext(34, \"Product Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"ul\", 19)(36, \"li\")(37, \"strong\");\n    i0.ɵɵtext(38, \"Category:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39);\n    i0.ɵɵpipe(40, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"li\")(42, \"strong\");\n    i0.ɵɵtext(43, \"Unit:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"li\")(46, \"strong\");\n    i0.ɵɵtext(47, \"Stock:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"span\", 20);\n    i0.ɵɵtext(49, \"In Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"li\")(51, \"strong\");\n    i0.ɵɵtext(52, \"Freshness:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"span\", 20);\n    i0.ɵɵtext(54, \"Farm Fresh\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(55, ProductDetailComponent_div_0_div_55_Template, 5, 1, \"div\", 21);\n    i0.ɵɵelementStart(56, \"div\", 22)(57, \"label\", 23);\n    i0.ɵɵtext(58, \"Quantity:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"div\", 24)(60, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_Template_button_click_60_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.decreaseQuantity());\n    });\n    i0.ɵɵtext(61, \"-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(62, \"input\", 26);\n    i0.ɵɵelementStart(63, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_Template_button_click_63_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.increaseQuantity());\n    });\n    i0.ɵɵtext(64, \"+\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(65, \"div\", 27)(66, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_Template_button_click_66_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addToCart());\n    });\n    i0.ɵɵelement(67, \"i\", 29);\n    i0.ɵɵtext(68, \" Add to Cart \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"button\", 30);\n    i0.ɵɵelement(70, \"i\", 31);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r3.product.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", ctx_r3.product.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r3.product.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.product.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(21, 12, ctx_r3.product.category));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\\u20B9\", ctx_r3.product.price, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"per \", ctx_r3.product.unit, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.product.description);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(40, 14, ctx_r3.product.category), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.product.unit, \"\");\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.availableSizes.length > 0);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"value\", ctx_r3.quantity);\n  }\n}\nexport let ProductDetailComponent = /*#__PURE__*/(() => {\n  class ProductDetailComponent {\n    constructor(route, cartService, productService, router) {\n      this.route = route;\n      this.cartService = cartService;\n      this.productService = productService;\n      this.router = router;\n      this.relatedProducts = [];\n      this.quantity = 1;\n      this.selectedSize = '';\n      this.availableSizes = [];\n    }\n    ngOnInit() {\n      const id = this.route.snapshot.params['id'];\n      this.loadProduct(id);\n    }\n    getSizesForProduct(product) {\n      if (product.category.includes('clothing')) {\n        if (product.name.toLowerCase().includes('pant') || product.name.toLowerCase().includes('jeans')) {\n          return ['28', '30', '32', '34', '36', '38', '40'];\n        } else if (product.name.toLowerCase().includes('shirt') || product.name.toLowerCase().includes('t-shirt') || product.name.toLowerCase().includes('dress') || product.name.toLowerCase().includes('kurti')) {\n          return ['XS', 'S', 'M', 'L', 'XL', 'XXL'];\n        } else if (product.name.toLowerCase().includes('shoe')) {\n          return ['5', '6', '7', '8', '9', '10', '11', '12'];\n        }\n      }\n      return [];\n    }\n    loadProduct(id) {\n      this.productService.getProductById(parseInt(id)).subscribe({\n        next: product => {\n          this.product = product;\n          this.availableSizes = this.getSizesForProduct(this.product);\n          if (this.availableSizes.length > 0) {\n            this.selectedSize = this.availableSizes[0];\n          }\n        },\n        error: error => {\n          console.error('Error loading product:', error);\n          this.router.navigate(['/products']);\n        }\n      });\n    }\n    increaseQuantity() {\n      this.quantity++;\n    }\n    decreaseQuantity() {\n      if (this.quantity > 1) {\n        this.quantity--;\n      }\n    }\n    addToCart(product) {\n      const productToAdd = product || this.product;\n      const quantityToAdd = product ? 1 : this.quantity;\n      if (this.availableSizes.length > 0 && !this.selectedSize) {\n        alert('Please select a size');\n        return;\n      }\n      const cartItem = {\n        ...productToAdd\n      };\n      if (this.selectedSize) {\n        cartItem.size = this.selectedSize;\n      }\n      this.cartService.addToCart(cartItem, quantityToAdd);\n    }\n    static {\n      this.ɵfac = function ProductDetailComponent_Factory(t) {\n        return new (t || ProductDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CartService), i0.ɵɵdirectiveInject(i3.ProductService), i0.ɵɵdirectiveInject(i1.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProductDetailComponent,\n        selectors: [[\"app-product-detail\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 1,\n        vars: 1,\n        consts: [[\"class\", \"container my-4\", 4, \"ngIf\"], [1, \"container\", \"my-4\"], [\"aria-label\", \"breadcrumb\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/home\"], [\"routerLink\", \"/products\"], [1, \"breadcrumb-item\", \"active\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"product-image-container\"], [1, \"img-fluid\", \"rounded\", \"product-image\", 3, \"src\", \"alt\"], [1, \"product-details\"], [1, \"text-muted\", \"category\"], [1, \"price-section\"], [1, \"text-success\", \"price\"], [1, \"text-muted\", \"unit\"], [1, \"my-4\"], [1, \"description\"], [1, \"list-unstyled\", \"product-info\"], [1, \"text-success\"], [\"class\", \"size-section mb-4\", 4, \"ngIf\"], [1, \"quantity-section\", \"mb-4\"], [1, \"form-label\"], [1, \"input-group\", \"quantity-input\"], [1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [\"type\", \"text\", \"readonly\", \"\", 1, \"form-control\", \"text-center\", 3, \"value\"], [1, \"action-buttons\", \"d-flex\", \"gap-2\"], [1, \"btn\", \"btn-success\", \"btn-lg\", \"flex-fill\", 3, \"click\"], [1, \"bi\", \"bi-cart-plus\"], [1, \"btn\", \"btn-outline-success\", \"btn-lg\"], [1, \"bi\", \"bi-heart\"], [1, \"size-section\", \"mb-4\"], [1, \"size-options\"], [\"class\", \"btn size-btn\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"size-btn\", 3, \"click\", \"ngClass\"]],\n        template: function ProductDetailComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, ProductDetailComponent_div_0_Template, 71, 16, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.product);\n          }\n        },\n        dependencies: [CommonModule, i4.NgClass, i4.NgForOf, i4.NgIf, i4.TitleCasePipe, RouterLink],\n        styles: [\".product-image-container[_ngcontent-%COMP%]{position:sticky;top:20px}.product-image[_ngcontent-%COMP%]{width:100%;height:400px;object-fit:cover;border-radius:15px;box-shadow:0 4px 15px #0000001a}.product-details[_ngcontent-%COMP%]{padding-left:2rem}h1[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:.5rem}.category[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem}.price-section[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1rem;border-radius:10px;margin-bottom:1.5rem}.price[_ngcontent-%COMP%]{margin:0;font-weight:700}.unit[_ngcontent-%COMP%]{font-size:1rem}.description[_ngcontent-%COMP%]{line-height:1.6;color:#666}.product-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.25rem 0}.quantity-section[_ngcontent-%COMP%]{max-width:200px}.quantity-input[_ngcontent-%COMP%]{max-width:150px}.quantity-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-left:none;border-right:none}.action-buttons[_ngcontent-%COMP%]{margin-top:2rem}.btn-lg[_ngcontent-%COMP%]{padding:12px 24px;font-weight:600}.breadcrumb[_ngcontent-%COMP%]{background-color:transparent;padding:0;margin-bottom:1rem}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#28a745;text-decoration:none}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}h4[_ngcontent-%COMP%]{color:#333;font-weight:700;margin-bottom:1.5rem}h5[_ngcontent-%COMP%]{color:#333;font-weight:600;margin-bottom:1rem}.size-section[_ngcontent-%COMP%]{max-width:400px}.size-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.size-btn[_ngcontent-%COMP%]{min-width:50px;padding:.5rem 1rem;font-weight:600;border-radius:8px;transition:all .3s ease}.size-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 8px #0000001a}\"]\n      });\n    }\n  }\n  return ProductDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}