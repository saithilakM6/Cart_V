{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { forkJoin, of, timeout } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/analytics.service\";\nimport * as i2 from \"@angular/common\";\nfunction AnalyticsDashboardComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"span\", 6);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AnalyticsDashboardComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"div\", 9);\n    i0.ɵɵtext(3, \"\\uD83D\\uDCE6\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 10)(5, \"h3\", 11);\n    i0.ɵɵtext(6, \"Total Orders\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 12);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 13);\n    i0.ɵɵtext(11, \"\\uD83D\\uDCB0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 10)(13, \"h3\", 11);\n    i0.ɵɵtext(14, \"Total Revenue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\", 12);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"number\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"div\", 8)(19, \"div\", 14);\n    i0.ɵɵtext(20, \"\\uD83D\\uDC65\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 10)(22, \"h3\", 11);\n    i0.ɵɵtext(23, \"Total Users\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"p\", 12);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"div\", 8)(27, \"div\", 15);\n    i0.ɵɵtext(28, \"\\uD83D\\uDECD\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 10)(30, \"h3\", 11);\n    i0.ɵɵtext(31, \"Total Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"p\", 12);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r0.totalOrders);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\\u20B9\", i0.ɵɵpipeBind2(17, 4, ctx_r0.totalRevenue, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.totalUsers);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r0.totalProducts);\n  }\n}\nexport let AnalyticsDashboardComponent = /*#__PURE__*/(() => {\n  class AnalyticsDashboardComponent {\n    constructor(analyticsService) {\n      this.analyticsService = analyticsService;\n      this.totalOrders = 0;\n      this.totalRevenue = 0;\n      this.totalUsers = 0;\n      this.totalProducts = 0;\n      this.isLoading = true;\n    }\n    ngOnInit() {\n      this.loadAnalytics();\n      this.timeoutId = setTimeout(() => {\n        if (this.isLoading) this.isLoading = false;\n      }, 10000);\n    }\n    ngOnDestroy() {\n      if (this.timeoutId) clearTimeout(this.timeoutId);\n    }\n    loadAnalytics() {\n      this.isLoading = true;\n      forkJoin([this.analyticsService.getDashboardStats().pipe(timeout(5000), catchError(() => of({\n        data: {}\n      }))), this.analyticsService.getSalesAnalytics().pipe(timeout(5000), catchError(() => of({\n        data: {}\n      }))), this.analyticsService.getUserAnalytics().pipe(timeout(5000), catchError(() => of({\n        data: {}\n      })))]).subscribe(([dashStats, salesData, userData]) => {\n        const dash = dashStats?.data || {};\n        this.totalOrders = dash.totalOrders || 0;\n        this.totalRevenue = dash.totalRevenue || 0;\n        this.totalUsers = dash.totalUsers || 0;\n        this.totalProducts = dash.totalProducts || 0;\n        this.isLoading = false;\n        if (this.timeoutId) clearTimeout(this.timeoutId);\n      });\n    }\n    static {\n      this.ɵfac = function AnalyticsDashboardComponent_Factory(t) {\n        return new (t || AnalyticsDashboardComponent)(i0.ɵɵdirectiveInject(i1.AnalyticsService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AnalyticsDashboardComponent,\n        selectors: [[\"app-analytics-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 5,\n        vars: 2,\n        consts: [[1, \"dashboard-container\"], [1, \"dashboard-title\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"class\", \"stats-grid\", 4, \"ngIf\"], [1, \"loading-spinner\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"], [1, \"stats-grid\"], [1, \"stat-card\"], [1, \"stat-icon\", \"orders-icon\"], [1, \"stat-content\"], [1, \"stat-label\"], [1, \"stat-value\"], [1, \"stat-icon\", \"revenue-icon\"], [1, \"stat-icon\", \"users-icon\"], [1, \"stat-icon\", \"products-icon\"]],\n        template: function AnalyticsDashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n            i0.ɵɵtext(2, \"Admin Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, AnalyticsDashboardComponent_div_3_Template, 4, 0, \"div\", 2)(4, AnalyticsDashboardComponent_div_4_Template, 34, 7, \"div\", 3);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n          }\n        },\n        dependencies: [CommonModule, i2.NgIf, i2.DecimalPipe],\n        styles: [\".dashboard-container[_ngcontent-%COMP%]{padding:2rem!important;background:linear-gradient(135deg,#6b3f69,#8d5f8c,#a376a2)!important;min-height:100vh!important}.dashboard-title[_ngcontent-%COMP%]{font-size:2rem!important;font-weight:700!important;color:#ddc3c3!important;margin-bottom:2rem!important}.loading-spinner[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;align-items:center!important;min-height:400px!important}.stats-grid[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:repeat(4,1fr)!important;gap:2rem!important;margin-bottom:2rem!important}.stat-card[_ngcontent-%COMP%]{background:#ddc3c3!important;border-radius:12px!important;padding:1.5rem!important;box-shadow:0 4px 15px #0003!important;display:flex!important;align-items:center!important;gap:1.5rem!important;transition:transform .3s ease,box-shadow .3s ease!important;border:none!important}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)!important;box-shadow:0 8px 25px #0000004d!important}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem!important;width:60px!important;height:60px!important;display:flex!important;align-items:center!important;justify-content:center!important;border-radius:10px!important;background:#a376a2!important;flex-shrink:0!important}.stat-content[_ngcontent-%COMP%]{flex:1!important}.stat-label[_ngcontent-%COMP%]{font-size:.9rem!important;color:#6b3f69!important;margin:0!important;font-weight:600!important;text-transform:uppercase!important;letter-spacing:.5px!important}.stat-value[_ngcontent-%COMP%]{font-size:1.8rem!important;font-weight:700!important;color:#6b3f69!important;margin:.5rem 0 0!important}@media (max-width: 1024px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.stat-card[_ngcontent-%COMP%]{padding:1rem!important;gap:1rem!important}.stat-icon[_ngcontent-%COMP%]{font-size:2rem!important;width:50px!important;height:50px!important}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem!important}}\"]\n      });\n    }\n  }\n  return AnalyticsDashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}