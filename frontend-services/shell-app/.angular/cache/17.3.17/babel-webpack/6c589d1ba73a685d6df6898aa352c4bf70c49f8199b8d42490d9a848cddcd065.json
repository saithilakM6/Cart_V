{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { forkJoin } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/wishlist.service\";\nimport * as i2 from \"../../services/cart.service\";\nimport * as i3 from \"../../services/product.service\";\nimport * as i4 from \"@angular/common\";\nfunction WishlistComponent_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵelement(2, \"img\", 8);\n    i0.ɵɵelementStart(3, \"div\", 9)(4, \"h5\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 11);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 12)(10, \"div\", 13)(11, \"span\", 14);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 15);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 16)(16, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function WishlistComponent_div_3_div_1_Template_button_click_16_listener() {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.addToCart(item_r2));\n    });\n    i0.ɵɵelement(17, \"i\", 18);\n    i0.ɵɵtext(18, \" Add to Cart \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function WishlistComponent_div_3_div_1_Template_button_click_19_listener() {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.removeFromWishlist(item_r2.id));\n    });\n    i0.ɵɵelement(20, \"i\", 20);\n    i0.ɵɵtext(21, \" Remove \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", item_r2.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", item_r2.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 6, item_r2.category));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\u20B9\", item_r2.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.unit);\n  }\n}\nfunction WishlistComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtemplate(1, WishlistComponent_div_3_div_1_Template, 22, 8, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.wishlistItems);\n  }\n}\nfunction WishlistComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelement(1, \"i\", 22);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3, \"Your wishlist is empty\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 23);\n    i0.ɵɵtext(5, \"Add items to your wishlist to save them for later\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 24);\n    i0.ɵɵtext(7, \"Continue Shopping\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let WishlistComponent = /*#__PURE__*/(() => {\n  class WishlistComponent {\n    constructor(wishlistService, cartService, productService) {\n      this.wishlistService = wishlistService;\n      this.cartService = cartService;\n      this.productService = productService;\n      this.wishlistItems = [];\n    }\n    ngOnInit() {\n      this.wishlistService.wishlistItems$.subscribe(productIds => {\n        if (productIds && productIds.length > 0) {\n          const requests = productIds.map(id => this.productService.getProductById(id));\n          forkJoin(requests).subscribe({\n            next: products => {\n              this.wishlistItems = products;\n            },\n            error: error => console.error('Error loading wishlist products:', error)\n          });\n        } else {\n          this.wishlistItems = [];\n        }\n      });\n    }\n    removeFromWishlist(productId) {\n      this.wishlistService.removeFromWishlist(productId).subscribe({\n        next: () => {\n          this.wishlistItems = this.wishlistItems.filter(item => item.id !== productId);\n          this.wishlistService.loadWishlist();\n        },\n        error: error => {\n          console.error('Error removing from wishlist:', error);\n          alert('Failed to remove item from wishlist');\n        }\n      });\n    }\n    addToCart(product) {\n      this.cartService.addToCart(product);\n      this.removeFromWishlist(product.id);\n    }\n    static {\n      this.ɵfac = function WishlistComponent_Factory(t) {\n        return new (t || WishlistComponent)(i0.ɵɵdirectiveInject(i1.WishlistService), i0.ɵɵdirectiveInject(i2.CartService), i0.ɵɵdirectiveInject(i3.ProductService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: WishlistComponent,\n        selectors: [[\"app-wishlist\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 5,\n        vars: 2,\n        consts: [[1, \"container\", \"my-4\"], [1, \"mb-4\"], [\"class\", \"row\", 4, \"ngIf\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [1, \"row\"], [\"class\", \"col-md-4 mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\", \"mb-3\"], [1, \"card\", \"h-100\"], [1, \"card-img-top\", 2, \"height\", \"200px\", \"object-fit\", \"cover\", 3, \"src\", \"alt\"], [1, \"card-body\", \"d-flex\", \"flex-column\"], [1, \"card-title\"], [1, \"card-text\", \"text-muted\"], [1, \"mt-auto\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-2\"], [1, \"h5\", \"text-success\", \"mb-0\"], [1, \"badge\", \"bg-light\", \"text-dark\"], [1, \"d-grid\", \"gap-2\"], [1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"], [1, \"bi\", \"bi-cart-plus\"], [1, \"btn\", \"btn-outline-danger\", \"btn-sm\", 3, \"click\"], [1, \"bi\", \"bi-trash\"], [1, \"text-center\", \"py-5\"], [1, \"bi\", \"bi-heart\", \"fa-4x\", \"text-muted\", \"mb-3\"], [1, \"text-muted\"], [\"routerLink\", \"/products\", 1, \"btn\", \"btn-primary\"]],\n        template: function WishlistComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n            i0.ɵɵtext(2, \"My Wishlist\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, WishlistComponent_div_3_Template, 2, 1, \"div\", 2)(4, WishlistComponent_div_4_Template, 8, 0, \"div\", 3);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.wishlistItems.length > 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.wishlistItems.length === 0);\n          }\n        },\n        dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.TitleCasePipe, RouterLink],\n        styles: [\".card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease;border:1px solid #e0e0e0}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0000001a}.btn-sm[_ngcontent-%COMP%]{font-size:.875rem}\"]\n      });\n    }\n  }\n  return WishlistComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}