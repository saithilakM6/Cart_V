{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction AdminProductFormComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", \"alert-\" + ctx_r0.messageType);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.message, \" \");\n  }\n}\nfunction AdminProductFormComponent_option_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cat_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cat_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(cat_r2);\n  }\n}\nfunction AdminProductFormComponent_option_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const u_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", u_r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(u_r3);\n  }\n}\nfunction AdminProductFormComponent_span_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 26);\n  }\n}\nexport let AdminProductFormComponent = /*#__PURE__*/(() => {\n  class AdminProductFormComponent {\n    constructor(productService, route, router) {\n      this.productService = productService;\n      this.route = route;\n      this.router = router;\n      this.product = {\n        name: '',\n        description: '',\n        price: 0,\n        category: '',\n        stockQuantity: 0,\n        image: '',\n        unit: ''\n      };\n      this.categories = ['Vegetables', 'Fruits', 'Dairy', 'Bakery', 'Beverages', 'Snacks', 'Spices', 'Oils'];\n      this.units = ['kg', 'liter', 'piece', 'dozen', 'pack', 'box'];\n      this.isLoading = false;\n      this.isEditMode = false;\n      this.productId = null;\n      this.message = '';\n      this.messageType = '';\n    }\n    ngOnInit() {\n      this.route.params.subscribe(params => {\n        if (params['id']) {\n          this.isEditMode = true;\n          this.productId = params['id'];\n          this.loadProduct();\n        }\n      });\n    }\n    loadProduct() {\n      if (!this.productId) return;\n      this.productService.getProductById(this.productId).subscribe({\n        next: product => {\n          this.product = product;\n        },\n        error: error => {\n          this.showMessage('Error loading product', 'danger');\n        }\n      });\n    }\n    saveProduct() {\n      if (!this.validateForm()) return;\n      this.isLoading = true;\n      const request = {\n        name: this.product.name,\n        description: this.product.description,\n        price: this.product.price,\n        category: this.product.category,\n        stockQuantity: this.product.stockQuantity,\n        image: this.product.image,\n        unit: this.product.unit\n      };\n      if (this.isEditMode && this.productId) {\n        this.productService.updateProduct(this.productId, request).subscribe({\n          next: response => {\n            this.showMessage('Product updated successfully', 'success');\n            setTimeout(() => this.router.navigate(['/admin']), 1500);\n          },\n          error: error => {\n            this.showMessage('Error updating product', 'danger');\n            this.isLoading = false;\n          }\n        });\n      } else {\n        this.productService.createProduct(request).subscribe({\n          next: response => {\n            this.showMessage('Product created successfully', 'success');\n            setTimeout(() => this.router.navigate(['/admin']), 1500);\n          },\n          error: error => {\n            this.showMessage('Error creating product', 'danger');\n            this.isLoading = false;\n          }\n        });\n      }\n    }\n    validateForm() {\n      if (!this.product.name || !this.product.description || !this.product.category) {\n        this.showMessage('Please fill all required fields', 'warning');\n        return false;\n      }\n      if (this.product.price <= 0 || this.product.stockQuantity <= 0) {\n        this.showMessage('Price and stock must be greater than 0', 'warning');\n        return false;\n      }\n      return true;\n    }\n    showMessage(msg, type) {\n      this.message = msg;\n      this.messageType = type;\n      setTimeout(() => this.message = '', 3000);\n    }\n    cancel() {\n      this.router.navigate(['/admin']);\n    }\n    static {\n      this.ɵfac = function AdminProductFormComponent_Factory(t) {\n        return new (t || AdminProductFormComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AdminProductFormComponent,\n        selectors: [[\"app-admin-product-form\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 52,\n        vars: 14,\n        consts: [[1, \"admin-product-form\"], [1, \"container\", \"py-4\"], [1, \"row\"], [1, \"col-md-8\", \"offset-md-2\"], [1, \"mb-4\"], [\"class\", \"alert\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"card\", \"p-4\", 3, \"ngSubmit\"], [1, \"mb-3\"], [1, \"form-label\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"description\", \"rows\", \"3\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"col-md-6\", \"mb-3\"], [\"type\", \"number\", \"name\", \"price\", \"step\", \"0.01\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"name\", \"stockQuantity\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"category\", \"required\", \"\", 1, \"form-select\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"unit\", 1, \"form-select\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"name\", \"image\", \"placeholder\", \"https://example.com/image.jpg\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"text-muted\"], [1, \"d-flex\", \"gap-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-2\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"alert\", 3, \"ngClass\"], [3, \"value\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-2\"]],\n        template: function AdminProductFormComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h2\", 4);\n            i0.ɵɵtext(5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(6, AdminProductFormComponent_div_6_Template, 2, 2, \"div\", 5);\n            i0.ɵɵelementStart(7, \"form\", 6);\n            i0.ɵɵlistener(\"ngSubmit\", function AdminProductFormComponent_Template_form_ngSubmit_7_listener() {\n              return ctx.saveProduct();\n            });\n            i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\", 8);\n            i0.ɵɵtext(10, \"Product Name *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"input\", 9);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminProductFormComponent_Template_input_ngModelChange_11_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.product.name, $event) || (ctx.product.name = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"div\", 7)(13, \"label\", 8);\n            i0.ɵɵtext(14, \"Description *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"textarea\", 10);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminProductFormComponent_Template_textarea_ngModelChange_15_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.product.description, $event) || (ctx.product.description = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"div\", 2)(17, \"div\", 11)(18, \"label\", 8);\n            i0.ɵɵtext(19, \"Price (\\u20B9) *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"input\", 12);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminProductFormComponent_Template_input_ngModelChange_20_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.product.price, $event) || (ctx.product.price = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(21, \"div\", 11)(22, \"label\", 8);\n            i0.ɵɵtext(23, \"Stock Quantity *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"input\", 13);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminProductFormComponent_Template_input_ngModelChange_24_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.product.stockQuantity, $event) || (ctx.product.stockQuantity = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(25, \"div\", 2)(26, \"div\", 11)(27, \"label\", 8);\n            i0.ɵɵtext(28, \"Category *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(29, \"select\", 14);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminProductFormComponent_Template_select_ngModelChange_29_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.product.category, $event) || (ctx.product.category = $event);\n              return $event;\n            });\n            i0.ɵɵelementStart(30, \"option\", 15);\n            i0.ɵɵtext(31, \"Select Category\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(32, AdminProductFormComponent_option_32_Template, 2, 2, \"option\", 16);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(33, \"div\", 11)(34, \"label\", 8);\n            i0.ɵɵtext(35, \"Unit\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"select\", 17);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminProductFormComponent_Template_select_ngModelChange_36_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.product.unit, $event) || (ctx.product.unit = $event);\n              return $event;\n            });\n            i0.ɵɵelementStart(37, \"option\", 15);\n            i0.ɵɵtext(38, \"Select Unit\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(39, AdminProductFormComponent_option_39_Template, 2, 2, \"option\", 16);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(40, \"div\", 7)(41, \"label\", 8);\n            i0.ɵɵtext(42, \"Image URL\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"input\", 18);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminProductFormComponent_Template_input_ngModelChange_43_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.product.image, $event) || (ctx.product.image = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(44, \"small\", 19);\n            i0.ɵɵtext(45, \"Paste image URL from Unsplash or other sources\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(46, \"div\", 20)(47, \"button\", 21);\n            i0.ɵɵtemplate(48, AdminProductFormComponent_span_48_Template, 1, 0, \"span\", 22);\n            i0.ɵɵtext(49);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(50, \"button\", 23);\n            i0.ɵɵlistener(\"click\", function AdminProductFormComponent_Template_button_click_50_listener() {\n              return ctx.cancel();\n            });\n            i0.ɵɵtext(51, \"Cancel\");\n            i0.ɵɵelementEnd()()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Edit Product\" : \"Add New Product\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.message);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.name);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.description);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.price);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.stockQuantity);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.category);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.unit);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.units);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.image);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", ctx.isEditMode ? \"Update Product\" : \"Create Product\", \" \");\n          }\n        },\n        dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, FormsModule, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n        styles: [\".admin-product-form[_ngcontent-%COMP%]{background-color:#f8f9fa;min-height:100vh;padding:20px 0}.admin-product-form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a;border:none}.admin-product-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:500;color:#333}.admin-product-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .admin-product-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-color:#ddd}.admin-product-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .admin-product-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#a1bc98;box-shadow:0 0 0 .2rem #a1bc9840}.admin-product-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#a1bc98;border-color:#a1bc98}.admin-product-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#8fa87f;border-color:#8fa87f}.admin-product-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:4px}\"]\n      });\n    }\n  }\n  return AdminProductFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}